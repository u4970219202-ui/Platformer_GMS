ZAŁOŻENIA Platformówka 2D

Gracz: obj_player
Podłoże/ściany: obj_solid
Klawisze: ← → oraz SPACJA
//////////////////////////////////////////////////////////////////
zdarzenie - CREATE EVENT – obj_player
// prędkości
move_speed = 4;    // prędkość ruchu ogólna/przesunięcie kroków
jump_power = 8;    // siła skoku

// grawitacja
gravity = 0.4;    //siła grawitacji
vsp = 0;    // prędkość w pione - w górę + w dół
hsp = 0;    // prędkość w kierunku poziomym - w lewo + w prawi
//////////////////////////////////////////////////////////////////
STEP EVENT – obj_player
⬅➡ RUCH LEWO / PRAWO
hsp = 0; // prędkość w poziomie 0 czyli stanie

if (keyboard_check(vk_left)) {
    hsp = -move_speed; // nadaje minus do prędkości ruchu ogólnej czyli player pójdzie w lewo
}

if (keyboard_check(vk_right)) {
    hsp = move_speed; // nadaje po prostu prędkość ruchu ogólnej czyli player pójdzie w prawo
}

// GRAWITACJA
vsp += gravity;    // nadaje prędkość w pionie równą grawitacji -> vsp = vsp + gravity

// SKOK (TYLKO GDY STOI NA ZIEMI)
if (keyboard_check_pressed(vk_space)) {    // sprawdza czy została naciśnięta spacja
    if (place_meeting(x, y + 1, obj_solid)) {    // jeśli pod postacię jest blok to zmienia prędkość pionową odejmuje siłę skoku
        vsp = -jump_power;
    }
}

//KOLIZJE
//Ruch poziomy
x += hsp;    // powoduje że zmienna x która jest pozycją poziomą zmienia się o hsp czyli naszą prędkość poziomą z kierunkiem

if (place_meeting(x, y, obj_solid)) {    // jeśli napotka przeszkodę w poziomie to cofa o hsp playera
    x -= hsp;
}

//Ruch pionowy
y += vsp;     // powoduje że zmienna y która jest pozycją pionową zmienia się o ysp czyli naszą prędkość pionową z kierunkiem

if (place_meeting(x, y, obj_solid)) {    // jeśli napotka przeszkodę w pionie to cofa o ysp playera
    y -= vsp;
    vsp = 0;
}

// Restart pokoju przy upadku
if (y > room_height) {
    room_restart();
}

CO WARTO ZROZUMIEĆ Z TEGO KODU
1️⃣ hsp i vsp

To prędkości, a nie pozycja
➡ najpierw je liczysz, potem dodajesz do x / y

2️⃣ Grawitacja
vsp += gravity;


To jest „ciągnięcie w dół” co klatkę

3️⃣ Skok
vsp = -jump_power;


Minus = do góry (bo Y rośnie w dół)

4️⃣ place_meeting

Sprawdza, czy obiekt dotyka obj_solid
